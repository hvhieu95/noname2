{"ast":null,"code":"import _slicedToArray from \"C:/Users/hoang/OneDrive/M\\xE1y t\\xEDnh/noname/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React, { useEffect } from 'react';\nimport makeCancellable from 'make-cancellable-promise';\nimport invariant from 'tiny-invariant';\nimport warning from 'tiny-warning';\nimport StructTreeItem from './StructTreeItem.js';\nimport usePageContext from './shared/hooks/usePageContext.js';\nimport useResolver from './shared/hooks/useResolver.js';\nimport { cancelRunningTask } from './shared/utils.js';\nexport default function StructTree() {\n  var pageContext = usePageContext();\n  invariant(pageContext, 'Unable to find Page context.');\n  var onGetStructTreeErrorProps = pageContext.onGetStructTreeError,\n    onGetStructTreeSuccessProps = pageContext.onGetStructTreeSuccess;\n  var _useResolver = useResolver(),\n    _useResolver2 = _slicedToArray(_useResolver, 2),\n    structTreeState = _useResolver2[0],\n    structTreeDispatch = _useResolver2[1];\n  var structTree = structTreeState.value,\n    structTreeError = structTreeState.error;\n  var customTextRenderer = pageContext.customTextRenderer,\n    page = pageContext.page;\n  function onLoadSuccess() {\n    if (!structTree) {\n      // Impossible, but TypeScript doesn't know that\n      return;\n    }\n    if (onGetStructTreeSuccessProps) {\n      onGetStructTreeSuccessProps(structTree);\n    }\n  }\n  function onLoadError() {\n    if (!structTreeError) {\n      // Impossible, but TypeScript doesn't know that\n      return;\n    }\n    warning(false, structTreeError.toString());\n    if (onGetStructTreeErrorProps) {\n      onGetStructTreeErrorProps(structTreeError);\n    }\n  }\n  function resetAnnotations() {\n    structTreeDispatch({\n      type: 'RESET'\n    });\n  }\n  useEffect(resetAnnotations, [structTreeDispatch, page]);\n  function loadStructTree() {\n    if (customTextRenderer) {\n      // TODO: Document why this is necessary\n      return;\n    }\n    if (!page) {\n      return;\n    }\n    var cancellable = makeCancellable(page.getStructTree());\n    var runningTask = cancellable;\n    cancellable.promise.then(function (nextStructTree) {\n      structTreeDispatch({\n        type: 'RESOLVE',\n        value: nextStructTree\n      });\n    }).catch(function (error) {\n      structTreeDispatch({\n        type: 'REJECT',\n        error: error\n      });\n    });\n    return function () {\n      return cancelRunningTask(runningTask);\n    };\n  }\n  useEffect(loadStructTree, [customTextRenderer, page, structTreeDispatch]);\n  useEffect(function () {\n    if (structTree === undefined) {\n      return;\n    }\n    if (structTree === false) {\n      onLoadError();\n      return;\n    }\n    onLoadSuccess();\n  },\n  // Ommitted callbacks so they are not called every time they change\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [structTree]);\n  if (!structTree) {\n    return null;\n  }\n  return React.createElement(StructTreeItem, {\n    className: \"react-pdf__Page__structTree structTree\",\n    node: structTree\n  });\n}","map":{"version":3,"names":["React","useEffect","makeCancellable","invariant","warning","StructTreeItem","usePageContext","useResolver","cancelRunningTask","StructTree","pageContext","onGetStructTreeErrorProps","onGetStructTreeError","onGetStructTreeSuccessProps","onGetStructTreeSuccess","_useResolver","_useResolver2","_slicedToArray","structTreeState","structTreeDispatch","structTree","value","structTreeError","error","customTextRenderer","page","onLoadSuccess","onLoadError","toString","resetAnnotations","type","loadStructTree","cancellable","getStructTree","runningTask","promise","then","nextStructTree","catch","undefined","createElement","className","node"],"sources":["C:/Users/hoang/OneDrive/Máy tính/noname/node_modules/react-pdf/dist/esm/StructTree.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport makeCancellable from 'make-cancellable-promise';\r\nimport invariant from 'tiny-invariant';\r\nimport warning from 'tiny-warning';\r\nimport StructTreeItem from './StructTreeItem.js';\r\nimport usePageContext from './shared/hooks/usePageContext.js';\r\nimport useResolver from './shared/hooks/useResolver.js';\r\nimport { cancelRunningTask } from './shared/utils.js';\r\nexport default function StructTree() {\r\n    const pageContext = usePageContext();\r\n    invariant(pageContext, 'Unable to find Page context.');\r\n    const { onGetStructTreeError: onGetStructTreeErrorProps, onGetStructTreeSuccess: onGetStructTreeSuccessProps, } = pageContext;\r\n    const [structTreeState, structTreeDispatch] = useResolver();\r\n    const { value: structTree, error: structTreeError } = structTreeState;\r\n    const { customTextRenderer, page } = pageContext;\r\n    function onLoadSuccess() {\r\n        if (!structTree) {\r\n            // Impossible, but TypeScript doesn't know that\r\n            return;\r\n        }\r\n        if (onGetStructTreeSuccessProps) {\r\n            onGetStructTreeSuccessProps(structTree);\r\n        }\r\n    }\r\n    function onLoadError() {\r\n        if (!structTreeError) {\r\n            // Impossible, but TypeScript doesn't know that\r\n            return;\r\n        }\r\n        warning(false, structTreeError.toString());\r\n        if (onGetStructTreeErrorProps) {\r\n            onGetStructTreeErrorProps(structTreeError);\r\n        }\r\n    }\r\n    function resetAnnotations() {\r\n        structTreeDispatch({ type: 'RESET' });\r\n    }\r\n    useEffect(resetAnnotations, [structTreeDispatch, page]);\r\n    function loadStructTree() {\r\n        if (customTextRenderer) {\r\n            // TODO: Document why this is necessary\r\n            return;\r\n        }\r\n        if (!page) {\r\n            return;\r\n        }\r\n        const cancellable = makeCancellable(page.getStructTree());\r\n        const runningTask = cancellable;\r\n        cancellable.promise\r\n            .then((nextStructTree) => {\r\n            structTreeDispatch({ type: 'RESOLVE', value: nextStructTree });\r\n        })\r\n            .catch((error) => {\r\n            structTreeDispatch({ type: 'REJECT', error });\r\n        });\r\n        return () => cancelRunningTask(runningTask);\r\n    }\r\n    useEffect(loadStructTree, [customTextRenderer, page, structTreeDispatch]);\r\n    useEffect(() => {\r\n        if (structTree === undefined) {\r\n            return;\r\n        }\r\n        if (structTree === false) {\r\n            onLoadError();\r\n            return;\r\n        }\r\n        onLoadSuccess();\r\n    }, \r\n    // Ommitted callbacks so they are not called every time they change\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [structTree]);\r\n    if (!structTree) {\r\n        return null;\r\n    }\r\n    return React.createElement(StructTreeItem, { className: \"react-pdf__Page__structTree structTree\", node: structTree });\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}